<!DOCTYPE html><html lang="en"><head><title>scripts/prototype/object</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../"><meta name="groc-document-path" content="scripts/prototype/object"><meta name="groc-project-path" content="scripts/prototype/object.js"><link rel="stylesheet" type="text/css" media="all" href="../../assets/style.css"><script type="text/javascript" src="../../assets/behavior.js"></script><body><div id="meta"><div class="file-path">scripts/prototype/object.js</div></div><div id="document"><div class="segment"><div class="code"><div class="wrapper"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;AClassAbove&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="s1">&#39;Prototype.Object&#39;</span><span class="p">,</span> <span class="p">[</span>
        <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

            <span class="kd">var</span> <span class="nx">_Object</span> <span class="o">=</span> <span class="p">{</span>
                <span class="nx">prototype</span><span class="o">:</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span>
            <span class="p">};</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>section: Language
class Object</p>

<p>Extensions to the built-in [[Object]] object.</p>

<p>Because it is dangerous and invasive to augment <code>Object.prototype</code> (i.e.,
 add instance methods to objects), all these methods are static methods that
 take an [[Object]] as their first parameter.</p>

<p>[[Object]] is used by Prototype as a namespace; that is, it just keeps a few
 new methods together, which are intended for namespaced access (i.e. starting
 with "<code>Object.</code>").</p>

<p>For the regular developer (who simply uses Prototype without tweaking it), the
 most commonly used methods are probably [[Object.inspect]] and, to a lesser degree,
 [[Object.clone]].</p>

<p>Advanced users, who wish to create their own objects like Prototype does, or
 explore objects as if they were hashes, will turn to [[Object.extend]],
 [[Object.keys]], and [[Object.values]].
 *</p></div></div><div class="code"><div class="wrapper">            <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nb">Object</span><span class="p">)</span> <span class="p">{</span>

                <span class="kd">var</span> <span class="nx">Prototype</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="nx">K</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">return</span> <span class="nx">x</span>
                    <span class="p">}</span>
                <span class="p">};</span>

                <span class="kd">var</span> <span class="nx">_toString</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span>
                    <span class="nx">_hasOwnProperty</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">,</span>
                    <span class="nx">NULL_TYPE</span> <span class="o">=</span> <span class="s1">&#39;Null&#39;</span><span class="p">,</span>
                    <span class="nx">UNDEFINED_TYPE</span> <span class="o">=</span> <span class="s1">&#39;Undefined&#39;</span><span class="p">,</span>
                    <span class="nx">BOOLEAN_TYPE</span> <span class="o">=</span> <span class="s1">&#39;Boolean&#39;</span><span class="p">,</span>
                    <span class="nx">NUMBER_TYPE</span> <span class="o">=</span> <span class="s1">&#39;Number&#39;</span><span class="p">,</span>
                    <span class="nx">STRING_TYPE</span> <span class="o">=</span> <span class="s1">&#39;String&#39;</span><span class="p">,</span>
                    <span class="nx">OBJECT_TYPE</span> <span class="o">=</span> <span class="s1">&#39;Object&#39;</span><span class="p">,</span>
                    <span class="nx">FUNCTION_CLASS</span> <span class="o">=</span> <span class="s1">&#39;[object Function]&#39;</span><span class="p">,</span>
                    <span class="nx">BOOLEAN_CLASS</span> <span class="o">=</span> <span class="s1">&#39;[object Boolean]&#39;</span><span class="p">,</span>
                    <span class="nx">NUMBER_CLASS</span> <span class="o">=</span> <span class="s1">&#39;[object Number]&#39;</span><span class="p">,</span>
                    <span class="nx">STRING_CLASS</span> <span class="o">=</span> <span class="s1">&#39;[object String]&#39;</span><span class="p">,</span>
                    <span class="nx">ARRAY_CLASS</span> <span class="o">=</span> <span class="s1">&#39;[object Array]&#39;</span><span class="p">,</span>
                    <span class="nx">DATE_CLASS</span> <span class="o">=</span> <span class="s1">&#39;[object Date]&#39;</span><span class="p">,</span>
                    <span class="nx">NATIVE_JSON_STRINGIFY_SUPPORT</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">JSON</span> <span class="o">&amp;&amp;</span>
                        <span class="k">typeof</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span> <span class="o">&amp;&amp;</span>
                        <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;0&#39;</span> <span class="o">&amp;&amp;</span>
                        <span class="k">typeof</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">Prototype</span><span class="p">.</span><span class="nx">K</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span><span class="p">;</span>



                <span class="kd">var</span> <span class="nx">DONT_ENUMS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;toString&#39;</span><span class="p">,</span> <span class="s1">&#39;toLocaleString&#39;</span><span class="p">,</span> <span class="s1">&#39;valueOf&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;hasOwnProperty&#39;</span><span class="p">,</span> <span class="s1">&#39;isPrototypeOf&#39;</span><span class="p">,</span> <span class="s1">&#39;propertyIsEnumerable&#39;</span><span class="p">,</span> <span class="s1">&#39;constructor&#39;</span>
                <span class="p">];</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Some versions of JScript fail to enumerate over properties, names of which 
correspond to non-enumerable properties in the prototype chain</p></div></div><div class="code"><div class="wrapper">                <span class="kd">var</span> <span class="nx">IS_DONTENUM_BUGGY</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">p</span> <span class="k">in</span> <span class="p">{</span>
                        <span class="nx">toString</span><span class="o">:</span> <span class="mi">1</span>
                    <span class="p">})</span> <span class="p">{</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>check actual property name, so that it works with augmented Object.prototype</p></div></div><div class="code"><div class="wrapper">                        <span class="k">if</span> <span class="p">(</span><span class="nx">p</span> <span class="o">===</span> <span class="s1">&#39;toString&#39;</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
                <span class="p">})();</span>

                <span class="kd">function</span> <span class="nx">Type</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">switch</span> <span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="kc">null</span><span class="o">:</span>
                            <span class="k">return</span> <span class="nx">NULL_TYPE</span><span class="p">;</span>
                        <span class="k">case</span> <span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="p">)</span><span class="o">:</span>
                            <span class="k">return</span> <span class="nx">UNDEFINED_TYPE</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">o</span><span class="p">;</span>
                    <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="s1">&#39;boolean&#39;</span><span class="o">:</span>
                            <span class="k">return</span> <span class="nx">BOOLEAN_TYPE</span><span class="p">;</span>
                        <span class="k">case</span> <span class="s1">&#39;number&#39;</span><span class="o">:</span>
                            <span class="k">return</span> <span class="nx">NUMBER_TYPE</span><span class="p">;</span>
                        <span class="k">case</span> <span class="s1">&#39;string&#39;</span><span class="o">:</span>
                            <span class="k">return</span> <span class="nx">STRING_TYPE</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">return</span> <span class="nx">OBJECT_TYPE</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.extend(destination, source) -> Object
 - destination (Object): The object to receive the new properties.
 - source (Object): The object whose properties will be duplicated.</p>

<p>Copies all properties from the source to the destination object. Used by Prototype
 to simulate inheritance (rather statically) by copying to prototypes.</p>

<p>Documentation should soon become available that describes how Prototype implements
 OOP, where you will find further details on how Prototype uses [[Object.extend]] and
 [[Class.create]] (something that may well change in version 2.0). It will be linked
 from here.</p>

<p>Do not mistake this method with its quasi-namesake [[Element.extend]],
 which implements Prototype's (much more complex) DOM extension mechanism.
 *</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">destination</span><span class="p">,</span> <span class="nx">source</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="nx">source</span><span class="p">)</span>
                        <span class="nx">destination</span><span class="p">[</span><span class="nx">property</span><span class="p">]</span> <span class="o">=</span> <span class="nx">source</span><span class="p">[</span><span class="nx">property</span><span class="p">];</span>
                    <span class="k">return</span> <span class="nx">destination</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.inspect(obj) -> String
 - object (Object): The item to be inspected.</p>

<p>Returns the debug-oriented string representation of the object.</p>

<ul>
<li><code>undefined</code> and <code>null</code> are represented as such.</li>
<li><p>Other types are looked up for a <code>inspect</code> method: if there is one, it is used, otherwise,
it reverts to the <code>toString</code> method.</p>

<p>Prototype provides <code>inspect</code> methods for many types, both built-in and library-defined,
such as in [[String#inspect]], [[Array#inspect]], [[Enumerable#inspect]] and [[Hash#inspect]],
which attempt to provide most-useful string representations (from a developer's standpoint)
for their respective types.</p>

<h5 id="examples">Examples</h5>

<p>Object.inspect();
 // -> 'undefined'</p>

<p>Object.inspect(null);
 // -> 'null'</p>

<p>Object.inspect(false);
 // -> 'false'</p>

<p>Object.inspect([1, 2, 3]);
 // -> '[1, 2, 3]'</p>

<p>Object.inspect('hello');
 // -> "'hello'"
*</p></li>
</ul></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">inspect</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">try</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">isUndefined</span><span class="p">(</span><span class="nx">object</span><span class="p">))</span> <span class="k">return</span> <span class="s1">&#39;undefined&#39;</span><span class="p">;</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">object</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="k">return</span> <span class="s1">&#39;null&#39;</span><span class="p">;</span>
                        <span class="k">return</span> <span class="nx">object</span><span class="p">.</span><span class="nx">inspect</span> <span class="o">?</span> <span class="nx">object</span><span class="p">.</span><span class="nx">inspect</span><span class="p">()</span> <span class="o">:</span> <span class="nb">String</span><span class="p">(</span><span class="nx">object</span><span class="p">);</span>
                    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">RangeError</span><span class="p">)</span> <span class="k">return</span> <span class="s1">&#39;...&#39;</span><span class="p">;</span>
                        <span class="k">throw</span> <span class="nx">e</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.toJSON(object) -> String
 - object (Object): The object to be serialized.</p>

<p>Returns a JSON string.</p>

<p><code>undefined</code> and <code>function</code> types have no JSON representation. <code>boolean</code>
 and <code>null</code> are coerced to strings.</p>

<p>For other types, [[Object.toJSON]] looks for a <code>toJSON</code> method on <code>object</code>.
 If there is one, it is used; otherwise the object is treated like a
 generic [[Object]].</p>

<p>For more information on Prototype's JSON encoder, hop to our
 <a href="http://prototypejs.org/learn/json">tutorial</a>.</p>

<p>##### Example</p>

<pre><code> var data = {name: 'Violet', occupation: 'character', age: 25, pets: ['frog', 'rabbit']};
 Object.toJSON(data);
 //-&gt; '{"name": "Violet", "occupation": "character", "age": 25, "pets": ["frog","rabbit"]}'
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">toJSON</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">Str</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span>
                        <span class="s1">&#39;&#39;</span><span class="o">:</span> <span class="nx">value</span>
                    <span class="p">},</span> <span class="p">[]);</span>
                <span class="p">}</span>

                <span class="kd">function</span> <span class="nx">Str</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">holder</span><span class="p">,</span> <span class="nx">stack</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">holder</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">Type</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">===</span> <span class="nx">OBJECT_TYPE</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">value</span><span class="p">.</span><span class="nx">toJSON</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">toJSON</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
                    <span class="p">}</span>

                    <span class="kd">var</span> <span class="nx">_class</span> <span class="o">=</span> <span class="nx">_toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

                    <span class="k">switch</span> <span class="p">(</span><span class="nx">_class</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="nx">NUMBER_CLASS</span><span class="o">:</span>
                        <span class="k">case</span> <span class="nx">BOOLEAN_CLASS</span><span class="o">:</span>
                        <span class="k">case</span> <span class="nx">STRING_CLASS</span><span class="o">:</span>
                            <span class="nx">value</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">();</span>
                    <span class="p">}</span>

                    <span class="k">switch</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="kc">null</span><span class="o">:</span>
                            <span class="k">return</span> <span class="s1">&#39;null&#39;</span><span class="p">;</span>
                        <span class="k">case</span> <span class="kc">true</span><span class="o">:</span>
                            <span class="k">return</span> <span class="s1">&#39;true&#39;</span><span class="p">;</span>
                        <span class="k">case</span> <span class="kc">false</span><span class="o">:</span>
                            <span class="k">return</span> <span class="s1">&#39;false&#39;</span><span class="p">;</span>
                    <span class="p">}</span>

                    <span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nx">value</span><span class="p">;</span>
                    <span class="k">switch</span> <span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="s1">&#39;string&#39;</span><span class="o">:</span>
                            <span class="k">return</span> <span class="nx">value</span><span class="p">.</span><span class="nx">inspect</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
                        <span class="k">case</span> <span class="s1">&#39;number&#39;</span><span class="o">:</span>
                            <span class="k">return</span> <span class="nb">isFinite</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">?</span> <span class="nb">String</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">:</span> <span class="s1">&#39;null&#39;</span><span class="p">;</span>
                        <span class="k">case</span> <span class="s1">&#39;object&#39;</span><span class="o">:</span>

                            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">stack</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                                <span class="k">if</span> <span class="p">(</span><span class="nx">stack</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                                    <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">&quot;Cyclic reference to &#39;&quot;</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s2">&quot;&#39; in object&quot;</span><span class="p">);</span>
                                <span class="p">}</span>
                            <span class="p">}</span>
                            <span class="nx">stack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

                            <span class="kd">var</span> <span class="nx">partial</span> <span class="o">=</span> <span class="p">[];</span>
                            <span class="k">if</span> <span class="p">(</span><span class="nx">_class</span> <span class="o">===</span> <span class="nx">ARRAY_CLASS</span><span class="p">)</span> <span class="p">{</span>
                                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                                    <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="nx">Str</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">stack</span><span class="p">);</span>
                                    <span class="nx">partial</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">str</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span> <span class="o">?</span> <span class="s1">&#39;null&#39;</span> <span class="o">:</span> <span class="nx">str</span><span class="p">);</span>
                                <span class="p">}</span>
                                <span class="nx">partial</span> <span class="o">=</span> <span class="s1">&#39;[&#39;</span> <span class="o">+</span> <span class="nx">partial</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">;</span>
                            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                                <span class="kd">var</span> <span class="nx">keys</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
                                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">keys</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                                    <span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">keys</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span>
                                        <span class="nx">str</span> <span class="o">=</span> <span class="nx">Str</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">stack</span><span class="p">);</span>
                                    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">str</span> <span class="o">!==</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="p">{</span>
                                        <span class="nx">partial</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">key</span><span class="p">.</span><span class="nx">inspect</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;:&#39;</span> <span class="o">+</span> <span class="nx">str</span><span class="p">);</span>
                                    <span class="p">}</span>
                                <span class="p">}</span>
                                <span class="nx">partial</span> <span class="o">=</span> <span class="s1">&#39;{&#39;</span> <span class="o">+</span> <span class="nx">partial</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;}&#39;</span><span class="p">;</span>
                            <span class="p">}</span>
                            <span class="nx">stack</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
                            <span class="k">return</span> <span class="nx">partial</span><span class="p">;</span>
                    <span class="p">}</span>
                <span class="p">}</span>

                <span class="kd">function</span> <span class="nx">stringify</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">object</span><span class="p">);</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.toQueryString(object) -> String
 - object (Object): The object whose property/value pairs will be converted.</p>

<p>Turns an object into its URL-encoded query string representation.</p>

<p>This is a form of serialization, and is mostly useful to provide complex
 parameter sets for stuff such as objects in the [[Ajax]] namespace (e.g.
 [[Ajax.Request]]).</p>

<p>Undefined-value pairs will be serialized as if empty-valued. Array-valued
 pairs will get serialized with one name/value pair per array element. All
 values get URI-encoded using JavaScript's native <code>encodeURIComponent</code>
 function.</p>

<p>The order of pairs in the serialized form is not guaranteed (and mostly
 irrelevant anyway) &mdash; except for array-based parts, which are serialized
 in array order.</p>

<p>##### Examples</p>

<pre><code> Object.toQueryString({ action: 'ship', order_id: 123, fees: ['f1', 'f2'], 'label': 'a demo' })
 // -&gt; 'action=ship&amp;order_id=123&amp;fees=f1&amp;fees=f2&amp;label=a+demo'
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">toQueryString</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">$H</span><span class="p">(</span><span class="nx">object</span><span class="p">).</span><span class="nx">toQueryString</span><span class="p">();</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.toHTML(object) -> String
 - object (Object): The object to convert to HTML.</p>

<p>Converts the object to its HTML representation.</p>

<p>Returns the return value of <code>object</code>'s <code>toHTML</code> method if it exists; else
 runs <code>object</code> through [[String.interpret]].</p>

<p>##### Examples</p>

<pre><code> var Bookmark = Class.create({
   initialize: function(name, url) {
     this.name = name;
     this.url = url;
   },

   toHTML: function() {
     return '&lt;a href="#{url}"&gt;#{name}&lt;/a&gt;'.interpolate(this);
   }
 });

 var api = new Bookmark('Prototype API', 'http://prototypejs.org/api');

 Object.toHTML(api);
 //-&gt; '&lt;a href="http://prototypejs.org/api"&gt;Prototype API&lt;/a&gt;'

 Object.toHTML("Hello world!");
 //-&gt; "Hello world!"

 Object.toHTML();
 //-&gt; ""

 Object.toHTML(null);
 //-&gt; ""

 Object.toHTML(undefined);
 //-&gt; ""

 Object.toHTML(true);
 //-&gt; "true"

 Object.toHTML(false);
 //-&gt; "false"

 Object.toHTML(123);
 //-&gt; "123"
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">toHTML</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">object</span> <span class="o">&amp;&amp;</span> <span class="nx">object</span><span class="p">.</span><span class="nx">toHTML</span> <span class="o">?</span> <span class="nx">object</span><span class="p">.</span><span class="nx">toHTML</span><span class="p">()</span> <span class="o">:</span> <span class="nb">String</span><span class="p">.</span><span class="nx">interpret</span><span class="p">(</span><span class="nx">object</span><span class="p">);</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.keys(object) -> Array
 - object (Object): The object to pull keys from.</p>

<p>Returns an array of the object's property names.</p>

<p>Note that the order of the resulting array is browser-dependent &mdash; it
 relies on the <code>for...in</code> loop, for which the ECMAScript spec does not
 prescribe an enumeration order. Sort the resulting array if you wish to
 normalize the order of the object keys.</p>

<p><code>Object.keys</code> acts as an ECMAScript 5 <a href="http://remysharp.com/2010/10/08/what-is-a-polyfill/">polyfill</a>.
 It is only defined if not already present in the user's browser, and it
 is meant to behave like the native version as much as possible. Consult
 the <a href="http://es5.github.com/#x15.2.3.14">ES5 specification</a> for more
 information.</p>

<p>##### Examples</p>

<pre><code> Object.keys();
 // -&gt; []

 Object.keys({ name: 'Prototype', version: '1.6.1' }).sort();
 // -&gt; ['name', 'version']
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">keys</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">Type</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="o">!==</span> <span class="nx">OBJECT_TYPE</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">throw</span> <span class="k">new</span> <span class="nx">TypeError</span><span class="p">();</span>
                    <span class="p">}</span>
                    <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">if</span> <span class="p">(</span><span class="nx">_hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">,</span> <span class="nx">property</span><span class="p">))</span>
                            <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">property</span><span class="p">);</span>
                    <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Account for the DontEnum properties in affected browsers.</p></div></div><div class="code"><div class="wrapper">                    <span class="k">if</span> <span class="p">(</span><span class="nx">IS_DONTENUM_BUGGY</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">property</span> <span class="o">=</span> <span class="nx">DONT_ENUMS</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                            <span class="k">if</span> <span class="p">(</span><span class="nx">_hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">,</span> <span class="nx">property</span><span class="p">))</span>
                                <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">property</span><span class="p">);</span>
                        <span class="p">}</span>
                    <span class="p">}</span>

                    <span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.values(object) -> Array
 - object (Object): The object to pull values from.</p>

<p>Returns an array of the object's property values.</p>

<p>Note that the order of the resulting array is browser-dependent &mdash; it
 relies on the <code>for...in</code> loop, for which the ECMAScript spec does not
 prescribe an enumeration order.</p>

<p>Also, remember that while property <em>names</em> are unique, property <em>values</em>
 have no such constraint.</p>

<p>##### Examples</p>

<pre><code> Object.values();
 // -&gt; []

 Object.values({ name: 'Prototype', version: '1.6.1' }).sort();
 // -&gt; ['1.6.1', 'Prototype']
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">values</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[];</span>
                    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="nx">object</span><span class="p">)</span>
                        <span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">object</span><span class="p">[</span><span class="nx">property</span><span class="p">]);</span>
                    <span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.clone(object) -> Object
 - object (Object): The object to clone.</p>

<p>Creates and returns a shallow duplicate of the passed object by copying
 all of the original's key/value pairs onto an empty object.</p>

<p>Do note that this is a <em>shallow</em> copy, not a <em>deep</em> copy. Nested objects
 will retain their references.</p>

<p>##### Examples</p>

<pre><code> var original = {name: 'primaryColors', values: ['red', 'green', 'blue']};
 var copy = Object.clone(original);

 original.name;
 // -&gt; "primaryColors"
 original.values[0];
 // -&gt; "red"
 copy.name;
 // -&gt; "primaryColors"

 copy.name = "secondaryColors";
 original.name;
 // -&gt; "primaryColors"
 copy.name;
 // -&gt; "secondaryColors"

 copy.values[0] = 'magenta';
 copy.values[1] = 'cyan';
 copy.values[2] = 'yellow';
 original.values[0];
 // -&gt; "magenta" (it's a shallow copy, so they share the array)
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">clone</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">extend</span><span class="p">({},</span> <span class="nx">object</span><span class="p">);</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.isElement(object) -> Boolean
 - object (Object): The object to test.</p>

<p>Returns <code>true</code> if <code>object</code> is a DOM node of type 1; <code>false</code> otherwise.</p>

<p>##### Examples</p>

<pre><code> Object.isElement(new Element('div'));
 //-&gt; true

 Object.isElement(document.createElement('div'));
 //-&gt; true

 Object.isElement($('id_of_an_exiting_element'));
 //-&gt; true

 Object.isElement(document.createTextNode('foo'));
 //-&gt; false
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">isElement</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="o">!!</span><span class="p">(</span><span class="nx">object</span> <span class="o">&amp;&amp;</span> <span class="nx">object</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.isArray(object) -> Boolean
 - object (Object): The object to test.</p>

<p>Returns <code>true</code> if <code>object</code> is an [[Array]]; <code>false</code> otherwise.</p>

<p>##### Examples</p>

<pre><code> Object.isArray([]);
 //-&gt; true

 Object.isArray($w());
 //-&gt; true

 Object.isArray({ });
 //-&gt; false
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">isArray</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">_toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="o">===</span> <span class="nx">ARRAY_CLASS</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="kd">var</span> <span class="nx">hasNativeIsArray</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="o">==</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">([])</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">({});</span>

                <span class="k">if</span> <span class="p">(</span><span class="nx">hasNativeIsArray</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">isArray</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.isHash(object) -> Boolean
 - object (Object): The object to test.</p>

<p>Returns <code>true</code> if <code>object</code> is an instance of the [[Hash]] class; <code>false</code>
 otherwise.</p>

<p>##### Examples</p>

<pre><code> Object.isHash(new Hash({ }));
 //-&gt; true

 Object.isHash($H({ }));
 //-&gt; true

 Object.isHash({ });
 //-&gt; false
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">isHash</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">object</span> <span class="k">instanceof</span> <span class="nx">Hash</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.isFunction(object) -> Boolean
 - object (Object): The object to test.</p>

<p>Returns <code>true</code> if <code>object</code> is of type [[Function]]; <code>false</code> otherwise.</p>

<p>##### Examples</p>

<pre><code> Object.isFunction($);
 //-&gt; true

 Object.isFunction(123);
 //-&gt; false
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">isFunction</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">_toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="o">===</span> <span class="nx">FUNCTION_CLASS</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.isString(object) -> Boolean
 - object (Object): The object to test.</p>

<p>Returns <code>true</code> if <code>object</code> is of type [[String]]; <code>false</code> otherwise.</p>

<p>##### Examples</p>

<pre><code> Object.isString("foo");
 //-&gt; true

 Object.isString("");
 //-&gt; true

 Object.isString(123);
 //-&gt; false
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">isString</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">_toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="o">===</span> <span class="nx">STRING_CLASS</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.isNumber(object) -> Boolean
 - object (Object): The object to test.</p>

<p>Returns <code>true</code> if <code>object</code> is of type [[Number]]; <code>false</code> otherwise.</p>

<p>##### Examples</p>

<pre><code> Object.isNumber(0);
 //-&gt; true

 Object.isNumber(1.2);
 //-&gt; true

 Object.isNumber("foo");
 //-&gt; false
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">isNumber</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">_toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="o">===</span> <span class="nx">NUMBER_CLASS</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.isDate(object) -> Boolean
 - object (Object): The object to test.</p>

<p>Returns <code>true</code> if <code>object</code> is of type [[Date]]; <code>false</code> otherwise.</p>

<p>##### Examples</p>

<pre><code> Object.isDate(new Date);
 //-&gt; true

 Object.isDate("Dec 25, 1995");
 //-&gt; false

 Object.isDate(new Date("Dec 25, 1995"));
 //-&gt; true
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">isDate</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">_toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="o">===</span> <span class="nx">DATE_CLASS</span><span class="p">;</span>
                <span class="p">}</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Object.isUndefined(object) -> Boolean
 - object (Object): The object to test.</p>

<p>Returns <code>true</code> if <code>object</code> is of type <code>undefined</code>; <code>false</code> otherwise.</p>

<p>##### Examples</p>

<pre><code> Object.isUndefined();
 //-&gt; true

 Object.isUndefined(undefined);
 //-&gt; true

 Object.isUndefined(null);
 //-&gt; false

 Object.isUndefined(0);
 //-&gt; false

 Object.isUndefined("");
 //-&gt; false
</code></pre>

<p>*</p></div></div><div class="code"><div class="wrapper">                <span class="kd">function</span> <span class="nx">isUndefined</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">object</span> <span class="o">===</span> <span class="s2">&quot;undefined&quot;</span><span class="p">;</span>
                <span class="p">}</span>

                <span class="nx">extend</span><span class="p">(</span><span class="nb">Object</span><span class="p">,</span> <span class="p">{</span>
                    <span class="nx">extend</span><span class="o">:</span> <span class="nx">extend</span><span class="p">,</span>
                    <span class="nx">inspect</span><span class="o">:</span> <span class="nx">inspect</span><span class="p">,</span>
                    <span class="nx">toJSON</span><span class="o">:</span> <span class="nx">NATIVE_JSON_STRINGIFY_SUPPORT</span> <span class="o">?</span> <span class="nx">stringify</span> <span class="o">:</span> <span class="nx">toJSON</span><span class="p">,</span>
                    <span class="nx">toQueryString</span><span class="o">:</span> <span class="nx">toQueryString</span><span class="p">,</span>
                    <span class="nx">toHTML</span><span class="o">:</span> <span class="nx">toHTML</span><span class="p">,</span>
                    <span class="nx">keys</span><span class="o">:</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span> <span class="o">||</span> <span class="nx">keys</span><span class="p">,</span>
                    <span class="nx">values</span><span class="o">:</span> <span class="nx">values</span><span class="p">,</span>
                    <span class="nx">clone</span><span class="o">:</span> <span class="nx">clone</span><span class="p">,</span>
                    <span class="nx">isElement</span><span class="o">:</span> <span class="nx">isElement</span><span class="p">,</span>
                    <span class="nx">isArray</span><span class="o">:</span> <span class="nx">isArray</span><span class="p">,</span>
                    <span class="nx">isHash</span><span class="o">:</span> <span class="nx">isHash</span><span class="p">,</span>
                    <span class="nx">isFunction</span><span class="o">:</span> <span class="nx">isFunction</span><span class="p">,</span>
                    <span class="nx">isString</span><span class="o">:</span> <span class="nx">isString</span><span class="p">,</span>
                    <span class="nx">isNumber</span><span class="o">:</span> <span class="nx">isNumber</span><span class="p">,</span>
                    <span class="nx">isDate</span><span class="o">:</span> <span class="nx">isDate</span><span class="p">,</span>
                    <span class="nx">isUndefined</span><span class="o">:</span> <span class="nx">isUndefined</span>
                <span class="p">});</span>
            <span class="p">})(</span><span class="nx">_Object</span><span class="p">);</span>

            <span class="k">return</span> <span class="nx">_Object</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">]);</span></div></div></div></div></body></html>